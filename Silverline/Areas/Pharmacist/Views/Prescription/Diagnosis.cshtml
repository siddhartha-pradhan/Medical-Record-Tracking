@model List<Silverline.Core.ViewModels.PrescriptionViewModel>

@{
	ViewData["Title"] = "Medication Prescrptions";
}

<div class="pt-2 ml-4 pl-3 mb-4">
	<h1>Medication Prescrptions</h1>
</div>

<partial name="_Notification" />

<div class="container-fluid" style="width: 95%">
	@foreach (var item in Model)
	{
		<div class="row mt-4">
			<div class="card" style="width: 95%">
				<div class="card-body">
					<div class="row">
						<div class="col-3">
							<div class="row mb-2">
								<img id="profilePicture" style="width:250px;height:300px; object-fit:cover; margin:auto" src="data:image/*;base64,@(Convert.ToBase64String(item.PatientImage))">
							</div>
							<div class="row justify-content-center">
								<p class="text-center h4 text-dark">@item.PatientName</p>
							</div>
						</div>
						<div class="col-9">
						@foreach (var result in item.PrescriptionDiagnosis)
						{
							<div class="row">
								<div class="col">
									<h3 class="row ml-3">
										Medicine Name
									</h3>
									<div class="row mb-4 ml-3">
										@result.MedicineName
									</div>
								</div>
								<div class="col">
									<h3 class="row ml-3">
										Doctor Referral
									</h3>
									<div class="row mb-4 ml-3">
										@result.DoctorName
									</div>
								</div>
								<div class="col">
									<h3 class="row ml-3">
										Doctor Remarks
									</h3>
									<div class="row mb-4 ml-3">
										@Html.Raw(@result.DoctorRemarks)
									</div>
									<div class="row mb-4 ml-3 w-50">
										<a asp-action="Details" class="btn btn-dark form-control" asp-route-id="@result.Id">
											Details
										</a>
									</div>
								</div>
							</div>	
							<hr />
						}
						</div>
					</div>
				</div>
			</div>
		</div>
	}
</div>