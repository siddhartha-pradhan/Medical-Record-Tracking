@model List<FinalizedAppointmentViewModel>

@{
    ViewData["Title"] = "Appointment History";
}

<div class="pt-2 ml-4 pl-3 mb-4">
    <h1>Appointment History</h1>
</div>

<div class="container-fluid" style="width: 95%">
	<div class="row">
		<div class="col-md-12">
			@foreach (var item in Model)
			{
				<div class="card">
					<div class="card-body">
						<div class="row">
							<div class="col-4">
								<div class="row mb-2">
									<img id="profilePicture" style="width:350px;height:400px; object-fit:cover; margin:auto" src="@item.DoctorImage">
								</div>
								<div class="row justify-content-center">
									<p class="text-center  h4 text-dark">@item.DoctorName</p>
								</div>
								<div class="row justify-content-center">
									<p class="text-center justify-content-center h5 text-dark">@item.Specialty</p>
								</div>
								<div class="row justify-content-center">
									<p class="text-center justify-content-center h5 text-dark">@item.HighestMedicalDegree</p>
								</div>
							</div>
							<div class="col-8">
								@foreach(var result in item.FinalizedAppointments)
								{
									
									<div class="row">
										<div class="col-auto">
											<h3 class="row ml-3">
												Appointment Request
											</h3>
											<div class="row mb-4 ml-3">
												@Html.Raw(@result.RequestTitle)
											</div>
										</div>
										<div class="col-auto ml-3">
											<h3 class="row ml-3">
												Booked Date
											</h3>
											<div class="row mb-4 ml-3">
												@result.BookedDate
											</div>
										</div>
										<div class="col-auto ml-3">
											<h3 class="row ml-3">
												Appointed Date
											</h3>
											<div class="row mb-4 ml-3">
												@result.AppointedDate
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-auto">
											<h3 class="row ml-3 mr-5">
												Diagnostic Title
											</h3>
											<div class="row mb-2 ml-3">
												@result.DiagnosticTitle
											</div>
										</div>
										<div class="col-auto mr-4 ml-4">
											<h3 class="row ml-4">
												Description
											</h3>
											<div class="row mb-2 ml-lg-4">
												@Html.Raw(@result.DiagnosticDescription)
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-auto">
											<div class="row mb-2 ml-lg-3">
												<a asp-action="AppointmentDetails" class="btn btn-dark form-control" asp-route-id="@result.AppointmentId">
													Appointment Details
												</a>
											</div>
										</div>
									</div>
									<hr />
								}
							</div>
						</div>
					</div>
				</div>
			}
		</div>
	</div>
</div>
